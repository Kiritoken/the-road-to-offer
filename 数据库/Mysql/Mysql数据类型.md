# 数据类型


## 整数类型
MySQL 主要提供的整数类型有 TINYINT、SMALLINT、MEDIUMINT、INT、BIGINT，其属性字段可以添加 AUTO_INCREMENT 自增约束条件。下表中列出了 MySQL 中的数值类型。

    类型名称	说明	存储需求
    TINYINT	很小的整数	1个字节
    SMALLINT	小的整数	2个宇节
    MEDIUMINT	中等大小的整数	3个字节
    INT (INTEGHR)	普通大小的整数	4个字节
    BIGINT	大整数	8个字节


    类型名称	说明	存储需求
    TINYINT	-128〜127	0 〜255
    SMALLINT	-32768〜32767	0〜65535
    MEDIUMINT	-8388608〜8388607	0〜16777215
    INT (INTEGER)	-2147483648〜2147483647	0〜4294967295
    BIGINT	-9223372036854775808〜9223372036854775807	0〜18446744073709551615


int(M)M 代表的是显示宽度，默认不足补空格，设置了zeroFill则会补0


提示：显示宽度和数据类型的取值范围是无关的。显示宽度只是指明 MySQL 最大可能显示的数字个数，数值的位数小于指定的宽度时会由空格填充。如果插入了大于显示宽度的值，只要该值不超过该类型整数的取值范围，数值依然可以插入，而且能够显示出来。例如，year 字段插入 19999，当使用 SELECT 查询该列值的时候，MySQL 显示的将是完整的带有 5 位数字的 19999，而不是 4 位数字的值。

## 浮点数

MySQL 中使用浮点数和定点数来表示小数。

浮点类型有两种，分别是单精度浮点数（FLOAT）和双精度浮点数（DOUBLE）；定点类型只有一种，就是 DECIMAL。

浮点类型和定点类型都可以用(M, D)来表示，其中M称为精度，表示总共的位数；D称为标度，表示小数的位数。

浮点数类型的取值范围为 M（1～255）和 D（1～30，且不能大于 M-2），分别表示显示宽度和小数位数。M 和 D 在 FLOAT 和DOUBLE 中是可选的，FLOAT 和 DOUBLE 类型将被保存为硬件所支持的最大精度。DECIMAL 的默认 D 值为 0、M 值为 10。

下表中列出了 MySQL 中的小数类型和存储需求。

    类型名称	说明	存储需求
    FLOAT	单精度浮点数	4 个字节
    DOUBLE	双精度浮点数	8 个字节
    DECIMAL (M, D)，DEC	压缩的“严格”定点数	M+2 个字节

DECIMAL 类型不同于 FLOAT 和 DOUBLE。DOUBLE 实际上是以字符串的形式存放的，DECIMAL 可能的最大取值范围与 DOUBLE 相同，但是有效的取值范围由 M 和 D 决定。如果改变 M 而固定 D，则取值范围将随 M 的变大而变大。

从上表中可以看到，DECIMAL 的存储空间并不是固定的，而由精度值 M 决定，占用 M+2 个字节。

FLOAT 类型的取值范围如下：
有符号的取值范围：-3.402823466E+38～-1.175494351E-38。
无符号的取值范围：0 和 -1.175494351E-38～-3.402823466E+38。

DOUBLE 类型的取值范围如下：
有符号的取值范围：-1.7976931348623157E+308～-2.2250738585072014E-308。
无符号的取值范围：0 和 -2.2250738585072014E-308～-1.7976931348623157E+308。
提示：不论是定点还是浮点类型，如果用户指定的精度超出精度范围，则会四舍五入进行处理。

## 日期和时间类型
    类型名称	日期格式	日期范围	存储需求
    YEAR	YYYY	1901 ~ 2155	1 个字节
    TIME	HH:MM:SS	-838:59:59 ~ 838:59:59	3 个字节
    DATE	YYYY-MM-DD	1000-01-01 ~ 9999-12-3	3 个字节
    DATETIME	YYYY-MM-DD HH:MM:SS	1000-01-01 00:00:00 ~ 9999-12-31 23:59:59	8 个字节
    TIMESTAMP	YYYY-MM-DD HH:MM:SS	1980-01-01 00:00:01 UTC ~ 2040-01-19 03:14:07 UTC	4 个字节

## DATETIME 和 TIMESTAMP 类型的区别
+ 两者的存储方式不一样
    + TIMESTAMP：把客户端插入的时间从当前时区转化为UTC（世界标准时间）进行存储。查询时，将其又转化为客户端当前时区进行返回。
    + DATETIME：不做任何改变，基本上是原样输入和输出

+ 两者所能存储的时间范围不一样
    + timestamp存储的时间范围为：'1970-01-01 00:00:01.000000' 到 '2038-01-19 03:14:07.999999'。
    + datetime存储的时间范围为：'1000-01-01 00:00:00.000000' 到 '9999-12-31 23:59:59.999999'。

+ timestamp支持default current_timestamp 来设置默认自动当前时间

+ timestamp支持on update current_timestamp 来设置更新时自动当前时间 

+ timestamp时区相关，存储时以UTC时间保持，查询时转换为当前时区，即如果在东8区的08:00:00分保存的数据，在东9区看到的是09:00:00，datetime与时区无关

+ timestamp 4个字节存储（实际上就是int），datetime 8个字节

+ 如果timestamp的值超出范围，mysql不会报错

+ 同时有两个timestamp字段默认值为current_timestamp会报错


## 字符串类型
字符串类型用来存储字符串数据，还可以存储图片和声音的二进制数据。字符串可以区分或者不区分大小写的串比较，还可以进行正则表达式的匹配查找。

MySQL 中的字符串类型有 CHAR、VARCHAR、TINYTEXT、TEXT、MEDIUMTEXT、LONGTEXT、ENUM、SET 等。

下表中列出了 MySQL 中的字符串数据类型，括号中的M表示可以为其指定长度。

    CHAR(M)	固定长度非二进制字符串	M 字节，1<=M<=255
    VARCHAR(M)	变长非二进制字符串	L+1字节，在此，L< = M和 1<=M<=255
    TINYTEXT	非常小的非二进制字符串	L+1字节，在此，L<2^8
    TEXT	小的非二进制字符串	L+2字节，在此，L<2^16
    MEDIUMTEXT	中等大小的非二进制字符串	L+3字节，在此，L<2^24
    LONGTEXT	大的非二进制字符串	L+4字节，在此，L<2^32
    ENUM	枚举类型，只能有一个枚举字符串值	1或2个字节，取决于枚举值的数目 (最大值为65535)
    SET	一个设置，字符串对象可以有零个或 多个SET成员	1、2、3、4或8个字节，取决于集合 成员的数量（最多64个成员）

## char 和 varchar的区别
+ char(n) varchar(n) n指的是字符长度，和编码有关，如果是utf-8，则一个字符是三个字节
+ char是定长， 最大长度是255个字符，不足长度的字符会补空格，取数据的时候会将右边的空格去掉
+ varchar 最大长度是65535个字符，不足长度不会补空格，取数据的时候原数据是多少取出来就是多少
+ char 占用的空间固定就是n*编码的字节数
+ varchar占用的空间是存储的字符数*编码的字节数 +1 