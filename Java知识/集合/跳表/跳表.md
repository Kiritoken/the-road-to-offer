# 跳表

***redis的有序集合（orderedset）使用跳表实现***，应用场景有：
+ 排行榜

## 基本结构
+ 有序链表
+ 增加查找的效率
+ 增加一层有序链表，提高查找效率
+ 为了提高搜索效率，继续增加层级
+ 插入过程保证有序
+ 空间换取时间
+ 均匀分布的时候是最优的、
+ 查找复杂度O(lgN)
+ 每个节点向上升一层的概率为50%，以此类推，第二层的概率1/4，三层，1/8......

## 数据量太小时，概率不稳定，存在突兀的数据（Redis内部的优化）
+ 当有序节点数量小于128的时候或者节点key的长度小于64的时候使用的是zipList压缩表（字节数组）
+ 当大于阈值的时候才会使用跳表结构
+ redis中最高层级为32，概率为1/4


## 红黑树的增删改查复杂度是logn 为什么还要用跳表呢
+ 红黑树实现复杂
+ 使用range 查找某一个范围的数据，红黑树较为复杂，需要经过回溯


## Java 实现跳表
+ ConcurrentSkipListMap