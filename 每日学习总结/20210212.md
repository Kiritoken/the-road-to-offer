# 20210212

+ 运行时常量池 vs 常量池
    + 运行时常量池是方法区的一部分
    + 常量池是字节码文件的一部分，这部分经过类加载后存放到方法区的运行时常量池中
    + 运行时常量池较常量池具有另一个重要特征：动态性 String.inetern()

+ class 信息
+ 为什么需要常量池 
    + 避免字节码文件过大，将数据存到常量池内，字节码存储指向常量池的引用，在动态链接时将符号引用转换为直接引用
+ 常量池内存储的信息有
    + 数量值 字面量 编译期就已经确定
    + 字符串值 字面量 编译期就已经确定
    + 类引用
    + 字段引用
    + 方法引用
+ 类加载过程中的链接阶段最后的解析过程，就是将字节码文件中常量池内的符号引用转换为运行时常量池内的直接引用的过程，属于静态链接。因为编译的时候，字节码文件并不知道，方法在内存中的地址，所以使用的时符号引用。
+ 动态链接指的是在程序运行期间，将使用到的符号引用转换为直接引用

+ 运行时常量池的理解
+ 方法区的具体使用图例
+ 方法区的演进细节
    + jdk1.6及之前，有永久代，静态变量存放在永久代中
    + jdk1.7，字符串常量池、静态变量移除，保存在堆中
    + jdk1.8之后，无永久代，有元空间，***字符串常量池、静态变量仍然在堆中***，元空间使用的是native memory
+ 永久代为什么要被元空间替代
    为了兼容jRocket
    + 永久代设置空间大小比较难确定
    + 永久代调优困难

+ 方法区的垃圾回收