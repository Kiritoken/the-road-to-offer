# 面试题


## 如何从大量的 URL 中找出相同的 URL？
给定 a、b 两个文件，各存放 50 亿个 URL，每个 URL 各占 64B，内存限制是 4G。请找出 a、b 两个文件共同的 URL。


+ 分治
将大文件按照规则分成一个个小文件，这样小文件就可以放进内存进行hash

hash(url)%1000分成1000个小文件，对a文件进行计算分成1000个小文件；对b文件进行计算，也分成1000个小文件；这样只要比较同一个下标的文件，对ai文件构造set，遍历bi判断是否存在即可


+ 字典树


## 如何从大量数据中找出高频词？
有一个 1GB 大小的文件，文件里每一行是一个词，每个词的大小不超过 16B，内存大小限制是 1MB，要求返回频数最高的 100 个词(Top 100)。

+ 分治
这种问题一般都是分治
遍历文件，将每个词根据hash（word）%10000，分成小文件，每个小文件不大于1M；
然后对每个文件使用hashmap进行词频统计，最后使用大小为100的小顶堆依次遍历每个文件，最后得出的就是top100


## 如何找出某一天访问百度网站最多的 IP？
现有海量日志数据保存在一个超大文件中，该文件无法直接读入内存，要求从中提取某天访问百度次数最多的那个 IP。

+ 先遍历文件，将访问百度的ip记录到一个大文件内
+ 对大文件里的ip进行hash()% ,分割到许多个小文件里
+ 对每个文件的ip，使用hashmap统计频数
+ 使用一个变量max 即可得出最多的那个ip

## 如何在大量的数据中找出不重复的整数？

+ 分治
先将 2.5 亿个数划分到多个小文件，用 HashSet/HashMap 找出每个小文件中不重复的整数，再合并每个子结果，即为最终结果。

+ 位图法

## 如何在大量的数据中判断一个数是否存在？

+ 分治法
+ 位图法
由于 unsigned int 数字的范围是 [0, 1 << 32)，我们用 1<<32=4,294,967,296 个 bit 来表示每个数字。初始位均为 0，那么总共需要内存：4,294,967,296b≈512M。

我们读取这 40 亿个整数，将对应的 bit 设置为 1。接着读取要查询的数，查看相应位是否为 1，如果为 1 表示存在，如果为 0 表示不存在。


## 如何查询最热门的查询串？
+ 分治
划分为多个小文件，保证单个小文件中的字符串能被直接加载到内存中处理，然后求出每个文件中出现次数最多的 10 个字符串；最后通过一个小顶堆统计出所有文件中出现最多的 10 个字符串。

+ HashMap

+ 前缀树法

## 如何统计不同电话号码的个数？

+ 分治
分成多个小文件，计算每个小文件的set.size()

+ 位图法
申请一个位图数组，长度为 1 亿，初始化为 0。然后遍历所有电话号码，把号码对应的位图中的位置置为 1。遍历完成后，如果 bit 为 1，则表示这个电话号码在文件中存在，否则不存在。bit 值为 1 的数量即为 不同电话号码的个数。